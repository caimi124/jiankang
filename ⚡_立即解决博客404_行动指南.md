# âš¡ ç«‹å³è§£å†³åšå®¢404é—®é¢˜ - è¡ŒåŠ¨æŒ‡å—

## ğŸ¯ å½“å‰çŠ¶æ€

âœ… **å·²ä¿®å¤:** ä¸­æ–‡åŠ¨æ€è·¯ç”±å·²åˆ›å»ºå¹¶éƒ¨ç½²  
âš ï¸ **ä»æœ‰é—®é¢˜:** åšå®¢æ–‡ç« 404 (å› ä¸ºSanityæ— æ•°æ®)  
ğŸ”„ **Verceléƒ¨ç½²:** è¿›è¡Œä¸­ (2-3åˆ†é’Ÿå®Œæˆ)

---

## ğŸ“Š é—®é¢˜è¯Šæ–­ç»“æœ

### Sanity CMS æ•°æ®çŠ¶æ€

**åšå®¢æ–‡ç« :** âŒ 0ç¯‡ (å®Œå…¨ä¸ºç©º)  
**è‰è¯æ•°æ®:** âš ï¸ 67ç§ (ç¼ºå°‘rhodiola, ashwagandha)

### 404é¡µé¢åˆ†æ

```
âŒ /zh/blog/red-onion-vs-white-onion-health-benefits
âŒ /zh/blog/ginger-tablets-chews-nausea-bloating-guide  
âŒ /zh/herbs/rhodiola-crenulata

åŸå› : Sanity CMS ä¸­æ²¡æœ‰è¿™äº›æ•°æ®
```

---

## âš¡ ç«‹å³ä¿®å¤æ–¹æ¡ˆ (3é€‰1)

### æ–¹æ¡ˆA: å¿«é€Ÿæ·»åŠ åšå®¢åˆ°Sanity (15åˆ†é’Ÿ)

**æœ€ç›´æ¥æœ‰æ•ˆ,æ¨è!**

1. **è®¿é—®Sanity Studio**
```
https://herbscience.sanity.studio/
```

2. **ç™»å½•å¹¶åˆ›å»ºæ–‡ç« **
```
- ç‚¹å‡» "Create" â†’ "Post"
- å¡«å†™ä»¥ä¸‹å­—æ®µ:
  * Title: æ–‡ç« æ ‡é¢˜
  * Slug: æ–‡ç« URL (å¦‚ red-onion-vs-white-onion-health-benefits)
  * Content: æ–‡ç« å†…å®¹ (ä½¿ç”¨Portable Textç¼–è¾‘å™¨)
  * Excerpt: æ‘˜è¦
  * Published At: å‘å¸ƒæ—¥æœŸ
- ç‚¹å‡» "Publish"
```

3. **éœ€è¦æ·»åŠ çš„æ–‡ç«  (8ç¯‡)**
```
1. red-onion-vs-white-onion-health-benefits
2. ginger-tablets-chews-nausea-bloating-guide
3. ginger-tea-menstrual-cramps-natural-relief
4. turmeric-gut-relief-guide
5. ashwagandha-for-women-hormone-balance
6. rhodiola-smart-way-daily-rituals
7. rhodiola-tea-recipes-energy-focus
8. why-rhodiola-works-body-type
```

---

### æ–¹æ¡ˆB: ä½¿ç”¨è„šæœ¬æ‰¹é‡å¯¼å…¥ (10åˆ†é’Ÿ)

**è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜,ä¸€æ¬¡æ€§æå®š!**

åˆ›å»ºæ‰¹é‡å¯¼å…¥è„šæœ¬:

```javascript
// batch-import-blogs.js
const sanityClient = require('@sanity/client').createClient({
  projectId: '13rzzwgz',
  dataset: 'production',
  apiVersion: '2024-01-01',
  token: 'sk7J8olzdUL0U66G5UXJXrhATzLAQ8LxVLqFpkcfbSL5Nusr5MT7kc0QRBdU49YLVgSbgryxhk4gEmqUghhZ5haAym9DvhTubA2Hu7Z2nnG18zOXN0oDegpO8t6MhPcEzRsniIwiRgPSQQsZlqgjJZ6aX7YqiFlH67iH6pC9vWEontHNkWAp',
  useCdn: false
})

const articles = [
  {
    title: 'Red Onion vs White Onion: Health Benefits Compared',
    slug: 'red-onion-vs-white-onion-health-benefits',
    excerpt: 'Discover the nutritional differences between red and white onions...',
    content: [
      {
        _type: 'block',
        children: [{_type: 'span', text: 'æ–‡ç« å†…å®¹...'}]
      }
    ]
  },
  // ... æ·»åŠ æ›´å¤šæ–‡ç« 
]

async function importArticles() {
  for (const article of articles) {
    const doc = {
      _type: 'post',
      title: article.title,
      slug: { _type: 'slug', current: article.slug },
      excerpt: article.excerpt,
      content: article.content,
      publishedAt: new Date().toISOString(),
      author: { _ref: 'author-id-here' } // éœ€è¦å…ˆåˆ›å»ºauthor
    }
    
    try {
      const result = await sanityClient.create(doc)
      console.log(`âœ… Created: ${article.title}`)
    } catch (error) {
      console.error(`âŒ Failed: ${article.title}`, error)
    }
  }
}

importArticles()
```

**è¿è¡Œ:**
```bash
node batch-import-blogs.js
```

---

### æ–¹æ¡ˆC: æ·»åŠ æœ¬åœ°å¤‡ç”¨æ•°æ® (5åˆ†é’Ÿ)

**ä¸´æ—¶æ–¹æ¡ˆ,å¿«é€Ÿè§æ•ˆ!**

ä¿®æ”¹ `app/zh/blog/[slug]/page.tsx`:

```typescript
// åœ¨ getBlogPost å‡½æ•°ä¸­æ·»åŠ 
async function getBlogPost(slug: string) {
  try {
    const sanityPost = await getBlogPostBySlug(slug)
    if (sanityPost) {
      return sanityPost
    }
  } catch (error) {
    console.error('è·å–åšå®¢æ–‡ç« å¤±è´¥:', error)
  }
  
  // ğŸ†• æ·»åŠ æœ¬åœ°å¤‡ç”¨æ•°æ®
  return getLocalBlogPost(slug)
}

// ğŸ†• æ·»åŠ æœ¬åœ°æ–‡ç« åº“
function getLocalBlogPost(slug: string) {
  const localPosts: Record<string, any> = {
    'red-onion-vs-white-onion-health-benefits': {
      title: 'çº¢æ´‹è‘± vs ç™½æ´‹è‘±ï¼šå¥åº·ç›Šå¤„å¯¹æ¯”',
      excerpt: 'å‘ç°çº¢æ´‹è‘±å’Œç™½æ´‹è‘±çš„è¥å…»å·®å¼‚...',
      content: 'å®Œæ•´æ–‡ç« å†…å®¹...',
      author: 'HerbScienceå›¢é˜Ÿ',
      publishedAt: '2024-12-01',
      tags: ['æ´‹è‘±', 'è¥å…»', 'å¥åº·']
    },
    'ginger-tablets-chews-nausea-bloating-guide': {
      title: 'ç”Ÿå§œç‰‡å’Œç”Ÿå§œå’€åš¼ç‰‡ï¼šç¼“è§£æ¶å¿ƒå’Œè…¹èƒ€æŒ‡å—',
      // ... å…¶ä»–æ–‡ç« æ•°æ®
    },
    // æ·»åŠ æ›´å¤šæ–‡ç« ...
  }
  
  return localPosts[slug] || null
}
```

---

## ğŸš€ æ¨èæ‰§è¡Œé¡ºåº

### ç¬¬ä¸€æ­¥: ç­‰å¾…éƒ¨ç½²å®Œæˆ (2åˆ†é’Ÿ)

```bash
# æ£€æŸ¥éƒ¨ç½²çŠ¶æ€
# è®¿é—®: https://vercel.com/ä½ çš„é¡¹ç›®/deployments

# æˆ–ç­‰å¾…é‚®ä»¶é€šçŸ¥
```

### ç¬¬äºŒæ­¥: æ¸…é™¤ç¼“å­˜

```bash
# Chrome/Edge
Ctrl + Shift + Delete
â†’ é€‰æ‹© "å…¨éƒ¨æ—¶é—´"
â†’ å‹¾é€‰ "ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"
â†’ æ¸…é™¤æ•°æ®

# æˆ–ä½¿ç”¨æ— ç—•æ¨¡å¼æµ‹è¯•
Ctrl + Shift + N
```

### ç¬¬ä¸‰æ­¥: æµ‹è¯•è‰è¯é¡µé¢ (åº”è¯¥å·²ä¿®å¤)

```bash
# æµ‹è¯•è¿™äº›URL:
https://herbscience.shop/zh/herbs/ginseng
https://herbscience.shop/zh/herbs/turmeric
https://herbscience.shop/zh/herbs/rhodiola-crenulata

# é¢„æœŸ: âœ… æ‰€æœ‰éƒ½æ­£å¸¸
```

### ç¬¬å››æ­¥: é€‰æ‹©åšå®¢ä¿®å¤æ–¹æ¡ˆ

**æ¨è: æ–¹æ¡ˆA (æ·»åŠ åˆ°Sanity)**
- ä¼˜ç‚¹: æ•°æ®æŒä¹…åŒ–,ä¾¿äºç®¡ç†
- ç¼ºç‚¹: éœ€è¦æ‰‹åŠ¨é€ä¸ªæ·»åŠ 

**å¿«é€Ÿ: æ–¹æ¡ˆC (æœ¬åœ°æ•°æ®)**
- ä¼˜ç‚¹: 5åˆ†é’Ÿæå®š
- ç¼ºç‚¹: ä¸èƒ½åœ¨Sanity Studioç¼–è¾‘

### ç¬¬äº”æ­¥: éªŒè¯ä¿®å¤

```bash
# è¿è¡ŒéªŒè¯è„šæœ¬
node verify-sanity-posts.js

# æµ‹è¯•åšå®¢é¡µé¢
è®¿é—®: https://herbscience.shop/zh/blog/[slug]
```

---

## ğŸ“ åˆ›å»ºSanityæ–‡ç« æ¨¡æ¿

ä¸ºäº†å¿«é€Ÿæ·»åŠ æ–‡ç« ,ä½¿ç”¨è¿™ä¸ªæ¨¡æ¿:

```javascript
// æ–‡ç« æ ‡å‡†æ ¼å¼
{
  "_type": "post",
  "title": "æ–‡ç« æ ‡é¢˜",
  "slug": {
    "_type": "slug",
    "current": "url-slug"
  },
  "excerpt": "æ–‡ç« æ‘˜è¦ (150-200å­—)",
  "content": [
    {
      "_type": "block",
      "style": "h2",
      "children": [{"_type": "span", "text": "æ ‡é¢˜"}]
    },
    {
      "_type": "block",
      "style": "normal",
      "children": [{"_type": "span", "text": "æ®µè½å†…å®¹"}]
    }
  ],
  "publishedAt": "2024-12-01T00:00:00.000Z",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
  "category": "å¥åº·",
  "readTime": "8",
  "seoKeywords": ["å…³é”®è¯1", "å…³é”®è¯2"]
}
```

---

## ğŸ” é—®é¢˜æ’æŸ¥æ¸…å•

å¦‚æœä¿®å¤åä»æœ‰404:

### 1. æ£€æŸ¥Verceléƒ¨ç½²
```
- [ ] éƒ¨ç½²æ˜¯å¦æˆåŠŸ? (ç»¿è‰²âœ“)
- [ ] æ˜¯å¦æœ‰æ„å»ºé”™è¯¯? (æŸ¥çœ‹æ—¥å¿—)
- [ ] éƒ¨ç½²æ—¶é—´æ˜¯å¦åœ¨ä»£ç æ¨é€å?
```

### 2. æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜
```
- [ ] æ˜¯å¦æ¸…é™¤äº†ç¼“å­˜?
- [ ] æ˜¯å¦å°è¯•æ— ç—•æ¨¡å¼?
- [ ] æ˜¯å¦å¼ºåˆ¶åˆ·æ–°? (Ctrl+Shift+R)
```

### 3. æ£€æŸ¥Sanityæ•°æ®
```bash
# è¿è¡ŒéªŒè¯è„šæœ¬
node verify-sanity-posts.js
node verify-sanity-herbs.js

# æ£€æŸ¥specific slugæ˜¯å¦å­˜åœ¨
```

### 4. æ£€æŸ¥æ–‡ä»¶ç»“æ„
```bash
# ç¡®è®¤æ–‡ä»¶å­˜åœ¨
ls app/zh/blog/[slug]/page.tsx
ls app/zh/herbs/[slug]/page.tsx
```

---

## ğŸ’¡ æœ€å¿«è§£å†³æ–¹æ¡ˆ (5åˆ†é’Ÿ)

å¦‚æœä½ æƒ³**ç«‹å³**çœ‹åˆ°æ•ˆæœ:

```bash
# 1. ç­‰å¾…éƒ¨ç½² (è‡ªåŠ¨,2åˆ†é’Ÿ)
# 2. æ¸…é™¤ç¼“å­˜ (æ‰‹åŠ¨,30ç§’)  
# 3. æ·»åŠ æ–¹æ¡ˆCçš„æœ¬åœ°æ•°æ® (5åˆ†é’Ÿ)
# 4. å†æ¬¡éƒ¨ç½²

git add app/zh/blog/[slug]/page.tsx
git commit -m "Add local blog data fallback"
git push origin main
```

5åˆ†é’Ÿåæ‰€æœ‰åšå®¢é¡µé¢éƒ½èƒ½è®¿é—®!

---

## ğŸ“ éœ€è¦å¸®åŠ©?

è¿è¡Œè¯Šæ–­å·¥å…·å¹¶æä¾›è¾“å‡º:

```bash
# 1. æ£€æŸ¥é¡µé¢çŠ¶æ€
node check-zh-pages.js > diagnosis.txt

# 2. æ£€æŸ¥Sanityæ•°æ®
node verify-sanity-posts.js >> diagnosis.txt
node verify-sanity-herbs.js >> diagnosis.txt

# 3. å‘é€ diagnosis.txt çš„å†…å®¹
```

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

### ç«‹å³ (éƒ¨ç½²å)
- âœ… `/zh/herbs/*` é¡µé¢æ­£å¸¸è®¿é—®
- âœ… é”™è¯¯é¡µé¢æ˜¾ç¤ºå‹å¥½æç¤º
- âœ… åŠ è½½åŠ¨ç”»æ­£å¸¸å·¥ä½œ

### æ·»åŠ æ•°æ®å
- âœ… `/zh/blog/*` é¡µé¢æ­£å¸¸è®¿é—®
- âœ… æ‰€æœ‰é“¾æ¥éƒ½èƒ½æ‰“å¼€
- âœ… SEOå…ƒæ•°æ®å®Œæ•´

---

**ç”Ÿæˆæ—¶é—´:** 2025-10-28  
**é¢„è®¡ä¿®å¤æ—¶é—´:** 5-15åˆ†é’Ÿ (å–å†³äºé€‰æ‹©çš„æ–¹æ¡ˆ)  
**å½“å‰çŠ¶æ€:** âœ… ä»£ç å·²éƒ¨ç½²,ç­‰å¾…Vercel

