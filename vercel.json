{
  "installCommand": "npm ci",
  "outputDirectory": ".next",
  "framework": "nextjs",
  "redirects": [
    {
      "source": "/:path*",
      "has": [
        { "type": "host", "value": "www.herbscience.shop" }
      ],
      "destination": "https://herbscience.shop/:path*",
      "permanent": true,
      "statusCode": 301
    },
    {
      "source": "/:path((?!_next|api|favicon.ico|robots.txt|sitemap.xml).*)",
      "has": [
        { "type": "header", "key": "x-forwarded-proto", "value": "http" }
      ],
      "destination": "https://herbscience.shop/:path*",
      "permanent": true,
      "statusCode": 301
    },
    {
      "source": "/index.html",
      "destination": "https://herbscience.shop/",
      "permanent": true
    },
    {
      "source": "/about-us",
      "destination": "https://herbscience.shop/about",
      "permanent": true
    },
    {
      "source": "/herbs/pumpkin-seed",
      "destination": "https://herbscience.shop/herbs/pumpkin-seeds",
      "permanent": true
    },
    {
      "source": "/herbs/cloves",
      "destination": "https://herbscience.shop/herbs/clove",
      "permanent": true
    },
    {
      "source": "/herbs/%E5%8D%B0%E5%BA%A6%E4%BA%BA%E5%8F%82",
      "destination": "https://herbscience.shop/herbs/ashwagandha",
      "permanent": true
    },
    {
      "source": "/herbs/%E5%A7%9C%E9%BB%84",
      "destination": "https://herbscience.shop/herbs/turmeric",
      "permanent": true
    },
    {
      "source": "/ingredient-checker(.*)",
      "destination": "https://herbscience.shop/constitution-test",
      "permanent": true
    },
    {
      "source": "/knowledge-center(.*)",
      "destination": "https://herbscience.shop/blog",
      "permanent": true
    },
    {
      "source": "/user-experiences(.*)",
      "destination": "https://herbscience.shop/",
      "permanent": true
    },
    {
      "source": "/zh/privacy/zh/privacy",
      "destination": "https://herbscience.shop/zh/privacy",
      "permanent": true
    },
    {
      "source": "/(.*)/\\1",
      "destination": "https://herbscience.shop/$1",
      "permanent": true
    },
    {
      "source": "/herb-finder/rosae-caninae-fructus",
      "destination": "https://herbscience.shop/herbs/rosae-caninae-fructus",
      "permanent": true
    },
    {
      "source": "/herb-finder/foeniculi-vulgaris-fructus",
      "destination": "https://herbscience.shop/herbs/foeniculi-vulgaris-fructus",
      "permanent": true
    },
    {
      "source": "/herb-finder/matricariae-flos",
      "destination": "https://herbscience.shop/herbs/matricariae-flos",
      "permanent": true
    },
    {
      "source": "/herb-finder/angelicae-radix",
      "destination": "https://herbscience.shop/herbs/angelicae-radix",
      "permanent": true
    },
    {
      "source": "/herb-finder/crataegi-fructus-cum-flore",
      "destination": "https://herbscience.shop/herbs/crataegi-fructus-cum-flore",
      "permanent": true
    }
  ],
  "functions": {
    "app/api/**": {
      "maxDuration": 10
    }
  },
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"
        },
        {
          "key": "X-Frame-Options",
          "value": "DENY"
        },
        {
          "key": "X-XSS-Protection",
          "value": "1; mode=block"
        },
        {
          "key": "Referrer-Policy",
          "value": "origin-when-cross-origin"
        },
        {
          "key": "Strict-Transport-Security",
          "value": "max-age=63072000; includeSubDomains; preload"
        }
      ]
    },
    {
      "source": "/api/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "s-maxage=86400"
        }
      ]
    },
    {
      "source": "/sitemap.xml",
      "headers": [
        {
          "key": "Content-Type",
          "value": "application/xml"
        },
        {
          "key": "Cache-Control",
          "value": "public, max-age=86400"
        }
      ]
    },
    {
      "source": "/sitemap-0.xml",
      "headers": [
        {
          "key": "Content-Type",
          "value": "application/xml"
        },
        {
          "key": "Cache-Control",
          "value": "public, max-age=86400"
        }
      ]
    }
  ]
} 