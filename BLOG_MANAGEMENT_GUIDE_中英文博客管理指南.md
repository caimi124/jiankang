# ğŸ“š HerbScience ä¸­è‹±æ–‡åšå®¢ç®¡ç†æŒ‡å—

> **æœ€åæ›´æ–°ï¼š** 2025å¹´10æœˆ30æ—¥  
> **ç‰ˆæœ¬ï¼š** 2.0  
> **çŠ¶æ€ï¼š** âœ… å·²å®Œæˆç³»ç»Ÿåˆ†ç¦»

---

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

### âœ… **DOï¼ˆæ­£ç¡®åšæ³•ï¼‰**

1. **ä¸­è‹±æ–‡å®Œå…¨åˆ†ç¦»**
   - è‹±æ–‡æ–‡ç« å’Œä¸­æ–‡æ–‡ç« åœ¨Sanityä¸­é€šè¿‡ `language` å­—æ®µåŒºåˆ†
   - è‹±æ–‡æ–‡ç« ï¼š`language: "en"` æˆ–ä¸è®¾ç½®
   - ä¸­æ–‡æ–‡ç« ï¼š`language: "zh"`

2. **URL ç»“æ„æ¸…æ™°**
   - è‹±æ–‡åšå®¢ï¼š`/blog/{slug}`
   - ä¸­æ–‡åšå®¢ï¼š`/zh/blog/{slug}`
   - **é‡è¦ï¼š** slugä¸éœ€è¦æ·»åŠ è¯­è¨€åç¼€ï¼ˆå¦‚ `-zh`ï¼‰

3. **å†…å®¹ç‹¬ç«‹ç®¡ç†**
   - æ¯ç¯‡æ–‡ç« éƒ½æ˜¯ç‹¬ç«‹çš„æ–‡æ¡£
   - ä¸­è‹±æ–‡æ–‡ç« å¯ä»¥ä½¿ç”¨ç›¸åŒçš„slugï¼ˆç³»ç»Ÿé€šè¿‡è·¯å¾„å’Œlanguageå­—æ®µåŒºåˆ†ï¼‰

### âŒ **DON'Tï¼ˆé”™è¯¯åšæ³•ï¼‰**

1. âŒ **ä¸è¦åœ¨slugä¸­æ·»åŠ è¯­è¨€åç¼€**
   - é”™è¯¯ï¼š`red-onion-vs-white-onion-health-benefits-zh`
   - æ­£ç¡®ï¼š`red-onion-vs-white-onion-health-benefits` + `language: "zh"`

2. âŒ **ä¸è¦æ··åˆè¯­è¨€å†…å®¹**
   - è‹±æ–‡æ–‡ç« ä¸­ä¸è¦åŒ…å«ä¸­æ–‡å†…å®¹
   - ä¸­æ–‡æ–‡ç« ä¸­ä¸è¦åŒ…å«è‹±æ–‡å†…å®¹ï¼ˆé™¤äº†å¿…è¦çš„æœ¯è¯­ï¼‰

3. âŒ **ä¸è¦åœ¨é”™è¯¯çš„è·¯å¾„ä¸‹åˆ›å»ºæ–‡ç« **
   - ä¸­æ–‡æ–‡ç« å¿…é¡»é€šè¿‡ `/zh/blog/` è®¿é—®
   - è‹±æ–‡æ–‡ç« å¿…é¡»é€šè¿‡ `/blog/` è®¿é—®

---

## ğŸ“‹ Sanity CMS å­—æ®µè§„èŒƒ

### å¿…å¡«å­—æ®µ

```javascript
{
  _type: "blogPost",
  title: "æ–‡ç« æ ‡é¢˜",              // å¿…å¡«ï¼Œä¸­æ–‡æˆ–è‹±æ–‡
  slug: {
    current: "article-slug"       // å¿…å¡«ï¼Œä½¿ç”¨è‹±æ–‡slugï¼ˆä¸­è‹±æ–‡å¯ç›¸åŒï¼‰
  },
  language: "zh" | "en",          // å¿…å¡«ï¼ç”¨äºåŒºåˆ†è¯­è¨€
  excerpt: "æ–‡ç« æ‘˜è¦",             // å¿…å¡«
  content: [...],                  // å¿…å¡«ï¼ŒPortableTextæ ¼å¼
  status: "published" | "draft",  // å¿…å¡«
  publishedAt: "2025-01-27",      // å¿…å¡«
  author: reference,               // å¿…å¡«ï¼Œå¼•ç”¨authoræ–‡æ¡£
  category: reference,             // å¿…å¡«ï¼Œå¼•ç”¨categoryæ–‡æ¡£
  tags: [references],              // å¯é€‰
  readTime: 8,                     // å¿…å¡«ï¼Œé˜…è¯»æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
  featured: true | false,          // å¯é€‰ï¼Œæ˜¯å¦æ¨è
  seoTitle: "SEOæ ‡é¢˜",            // æ¨è
  seoDescription: "SEOæè¿°",      // æ¨è
  seoKeywords: ["å…³é”®è¯1", ...]   // æ¨è
}
```

### å…³é”®å­—æ®µè¯´æ˜

#### `language` å­—æ®µï¼ˆæœ€é‡è¦ï¼ï¼‰

```javascript
// è‹±æ–‡æ–‡ç« 
language: "en"  // æˆ–è€…ä¸è®¾ç½®ï¼ˆé»˜è®¤ä¸ºè‹±æ–‡ï¼‰

// ä¸­æ–‡æ–‡ç« 
language: "zh"  // å¿…é¡»æ˜ç¡®è®¾ç½®
```

#### `slug` å­—æ®µ

```javascript
// âœ… æ­£ç¡®ç¤ºä¾‹
slug: {
  current: "red-onion-vs-white-onion-health-benefits"  // ç®€æ´ï¼Œæ— è¯­è¨€åç¼€
}

// âŒ é”™è¯¯ç¤ºä¾‹
slug: {
  current: "red-onion-vs-white-onion-health-benefits-zh"  // ä¸è¦æ·»åŠ -zh
}
```

---

## ğŸ”„ å·¥ä½œæµç¨‹

### åˆ›å»ºæ–°çš„è‹±æ–‡åšå®¢æ–‡ç« 

1. **åœ¨Sanity Studioä¸­åˆ›å»ºæ–°æ–‡æ¡£**
   ```
   ç±»å‹: blogPost
   ```

2. **å¡«å†™åŸºæœ¬ä¿¡æ¯**
   ```javascript
   title: "Your English Title"
   slug: "your-english-slug"
   language: "en"  // æˆ–ç•™ç©º
   excerpt: "English excerpt..."
   status: "published"
   ```

3. **å¡«å†™å†…å®¹**
   - ä½¿ç”¨PortableTextç¼–è¾‘å™¨
   - å¯æ·»åŠ å›¾ç‰‡ã€æ ‡é¢˜ã€åˆ—è¡¨ç­‰

4. **SEOä¼˜åŒ–**
   - å¡«å†™ seoTitle
   - å¡«å†™ seoDescription
   - æ·»åŠ  tags

5. **å‘å¸ƒ**
   - ç‚¹å‡» Publish
   - æ–‡ç« å°†å‡ºç°åœ¨ `/blog/` é¡µé¢

### åˆ›å»ºæ–°çš„ä¸­æ–‡åšå®¢æ–‡ç« 

1. **åœ¨Sanity Studioä¸­åˆ›å»ºæ–°æ–‡æ¡£**
   ```
   ç±»å‹: blogPost
   ```

2. **å¡«å†™åŸºæœ¬ä¿¡æ¯**
   ```javascript
   title: "æ‚¨çš„ä¸­æ–‡æ ‡é¢˜"
   slug: "your-english-slug"  // ä½¿ç”¨è‹±æ–‡slugï¼Œå¯ä¸è‹±æ–‡ç‰ˆç›¸åŒ
   language: "zh"  // å¿…é¡»æ˜ç¡®è®¾ç½®ï¼
   excerpt: "ä¸­æ–‡æ‘˜è¦..."
   status: "published"
   ```

3. **å¡«å†™å†…å®¹**
   - ä½¿ç”¨PortableTextç¼–è¾‘å™¨
   - å…¨éƒ¨ä½¿ç”¨ä¸­æ–‡å†…å®¹

4. **SEOä¼˜åŒ–**
   - å¡«å†™ä¸­æ–‡ seoTitle
   - å¡«å†™ä¸­æ–‡ seoDescription
   - æ·»åŠ ä¸­æ–‡ tags

5. **å‘å¸ƒ**
   - ç‚¹å‡» Publish
   - æ–‡ç« å°†å‡ºç°åœ¨ `/zh/blog/` é¡µé¢

### ç¿»è¯‘ç°æœ‰æ–‡ç« 

å¦‚æœæ‚¨æƒ³å°†è‹±æ–‡æ–‡ç« ç¿»è¯‘æˆä¸­æ–‡ï¼š

1. **åˆ›å»ºæ–°çš„æ–‡æ¡£**ï¼ˆä¸è¦ä¿®æ”¹åŸè‹±æ–‡æ–‡æ¡£ï¼‰
2. **å¤åˆ¶å†…å®¹å¹¶ç¿»è¯‘**
3. **è®¾ç½®å…³é”®å­—æ®µ**ï¼š
   ```javascript
   title: "ç¿»è¯‘åçš„ä¸­æ–‡æ ‡é¢˜"
   slug: "same-slug-as-english"  // å¯ä»¥ä½¿ç”¨ç›¸åŒçš„slug
   language: "zh"  // å¿…é¡»è®¾ç½®ä¸ºzh
   ```
4. **å‘å¸ƒ**

**é‡è¦ï¼š** ä¸­è‹±æ–‡æ–‡ç« æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„æ–‡æ¡£ï¼

---

## ğŸ› ï¸ ä»£ç æ¶æ„è¯´æ˜

### æŸ¥è¯¢å‡½æ•°åˆ†ç¦»

**è‹±æ–‡åšå®¢æŸ¥è¯¢** (`lib/sanity.ts`)

```typescript
// è‡ªåŠ¨è¿‡æ»¤ï¼šåªè¿”å›è‹±æ–‡æ–‡ç« ï¼ˆlanguage == "en" æˆ–æœªè®¾ç½®ï¼‰
getAllBlogPosts()         // æ‰€æœ‰è‹±æ–‡æ–‡ç« 
getFeaturedBlogPosts()    // æ¨èè‹±æ–‡æ–‡ç« 
getBlogPostBySlug(slug)   // æ ¹æ®slugè·å–è‹±æ–‡æ–‡ç« 
getBlogPostsByCategory()  // æ ¹æ®åˆ†ç±»è·å–è‹±æ–‡æ–‡ç« 
```

**ä¸­æ–‡åšå®¢æŸ¥è¯¢** (`lib/sanity.ts`)

```typescript
// è‡ªåŠ¨è¿‡æ»¤ï¼šåªè¿”å›ä¸­æ–‡æ–‡ç« ï¼ˆlanguage == "zh"ï¼‰
getAllBlogPostsZh()         // æ‰€æœ‰ä¸­æ–‡æ–‡ç« 
getFeaturedBlogPostsZh()    // æ¨èä¸­æ–‡æ–‡ç« 
getBlogPostBySlugZh(slug)   // æ ¹æ®slugè·å–ä¸­æ–‡æ–‡ç« 
```

### URLè·¯ç”±

| è¯­è¨€ | åˆ—è¡¨é¡µ | è¯¦æƒ…é¡µ | æŸ¥è¯¢å‡½æ•° |
|------|--------|--------|----------|
| è‹±æ–‡ | `/blog` | `/blog/{slug}` | `getAllBlogPosts()` |
| ä¸­æ–‡ | `/zh/blog` | `/zh/blog/{slug}` | `getAllBlogPostsZh()` |

---

## ğŸ› å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### Q1: è‹±æ–‡åšå®¢é¡µé¢å‡ºç°ä¸­æ–‡æ–‡ç« 

**åŸå› ï¼š** æ–‡ç« çš„ `language` å­—æ®µæœªè®¾ç½®æˆ–è®¾ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ‰“å¼€Sanity Studio
2. æ‰¾åˆ°è¯¥æ–‡ç« 
3. æ£€æŸ¥ `language` å­—æ®µ
4. è‹±æ–‡æ–‡ç« è®¾ç½®ä¸º `"en"`ï¼Œä¸­æ–‡æ–‡ç« è®¾ç½®ä¸º `"zh"`

### Q2: ä¸­æ–‡åšå®¢é¡µé¢æ‰¾ä¸åˆ°æ–‡ç« ï¼ˆ404ï¼‰

**åŸå› ï¼š** æ–‡ç« çš„ `language` å­—æ®µæœªè®¾ç½®ä¸º `"zh"`

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ‰“å¼€Sanity Studio
2. æ‰¾åˆ°è¯¥æ–‡ç« 
3. å°† `language` å­—æ®µè®¾ç½®ä¸º `"zh"`
4. é‡æ–°å‘å¸ƒ

### Q3: URLå‡ºç° `-zh` åç¼€

**åŸå› ï¼š** Slugå­—æ®µåŒ…å«äº†è¯­è¨€åç¼€

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ‰“å¼€Sanity Studio
2. ç¼–è¾‘æ–‡ç« çš„ slug
3. ç§»é™¤ `-zh` åç¼€
4. ç¡®ä¿ `language` å­—æ®µè®¾ç½®æ­£ç¡®

### Q4: å¦‚ä½•æ‰¹é‡æ£€æŸ¥æ–‡ç« çŠ¶æ€

è¿è¡Œæ£€æŸ¥è„šæœ¬ï¼š

```bash
node scripts/fix-sanity-blog-posts.js
```

è¾“å‡ºä¼šæ˜¾ç¤ºï¼š
- æ‰€æœ‰æ–‡ç« åˆ—è¡¨
- å¸¦-zhåç¼€çš„æ–‡ç« ï¼ˆéœ€è¦ä¿®å¤ï¼‰
- è‹±æ–‡å’Œä¸­æ–‡æ–‡ç« ç»Ÿè®¡

### Q5: å¦‚ä½•åˆ é™¤é”™è¯¯çš„æ–‡ç« 

**ä½¿ç”¨è„šæœ¬åˆ é™¤å¸¦-zhåç¼€çš„æ–‡ç« ï¼š**

```bash
node scripts/fix-sanity-blog-posts.js --delete
```

**æ‰‹åŠ¨åˆ é™¤ï¼š**
1. æ‰“å¼€Sanity Studio
2. æ‰¾åˆ°æ–‡ç« 
3. ç‚¹å‡»"..."èœå•
4. é€‰æ‹©"Delete"

---

## ğŸ“Š æœ€ä½³å®è·µ

### 1. ä½¿ç”¨ä¸€è‡´çš„slugå‘½å

```
good-example:
- red-onion-vs-white-onion-health-benefits
- ginger-tea-menstrual-cramps-natural-relief
- ashwagandha-for-women-hormone-balance

bad-example:
- Red_Onion_VS_White_Onion  // é¿å…å¤§å†™å’Œä¸‹åˆ’çº¿
- red-onion-ç™½æ´‹è‘±           // é¿å…æ··åˆè¯­è¨€
- article-123                // ä½¿ç”¨æè¿°æ€§slug
```

### 2. SEOä¼˜åŒ–æ¸…å•

- âœ… titleé•¿åº¦: 50-60å­—ç¬¦
- âœ… seoDescriptioné•¿åº¦: 150-160å­—ç¬¦
- âœ… æ·»åŠ 3-5ä¸ªç›¸å…³tags
- âœ… ä½¿ç”¨ç›®æ ‡å…³é”®è¯
- âœ… æ·»åŠ featured_imageï¼ˆæ¨èï¼‰
- âœ… è®¾ç½®readTime

### 3. å†…å®¹è´¨é‡æ ‡å‡†

- âœ… æ®µè½æ¸…æ™°ï¼Œä½¿ç”¨å°æ ‡é¢˜
- âœ… æ·»åŠ åˆ—è¡¨ã€å¼•ç”¨å¢å¼ºå¯è¯»æ€§
- âœ… åŒ…å«å®ç”¨ä¿¡æ¯å’Œè¡ŒåŠ¨å»ºè®®
- âœ… å¼•ç”¨æƒå¨æ¥æº
- âœ… é¿å…è¿‡åº¦SEOä¼˜åŒ–

### 4. å‘å¸ƒå‰æ£€æŸ¥

```
â–¡ æ ‡é¢˜æ˜¯å¦æ¸…æ™°
â–¡ slugæ˜¯å¦åˆç†
â–¡ languageå­—æ®µæ˜¯å¦æ­£ç¡®
â–¡ å†…å®¹æ˜¯å¦å®Œæ•´
â–¡ æ˜¯å¦æœ‰æ‹¼å†™é”™è¯¯
â–¡ SEOä¿¡æ¯æ˜¯å¦å®Œå–„
â–¡ æ˜¯å¦æ·»åŠ äº†tags
â–¡ ä½œè€…å’Œåˆ†ç±»æ˜¯å¦æ­£ç¡®
```

---

## ğŸš€ å¿«é€Ÿå‚è€ƒ

### åˆ›å»ºæ–‡ç« é€ŸæŸ¥è¡¨

```javascript
// è‹±æ–‡æ–‡ç« æ¨¡æ¿
{
  title: "English Title",
  slug: { current: "english-slug" },
  language: "en",
  excerpt: "English summary...",
  author: reference_to_author,
  category: reference_to_category,
  status: "published",
  publishedAt: "2025-01-27",
  readTime: 8
}

// ä¸­æ–‡æ–‡ç« æ¨¡æ¿
{
  title: "ä¸­æ–‡æ ‡é¢˜",
  slug: { current: "english-slug" },  // å¯ä¸è‹±æ–‡ç›¸åŒ
  language: "zh",  // å¿…é¡»è®¾ç½®ï¼
  excerpt: "ä¸­æ–‡æ‘˜è¦...",
  author: reference_to_author,
  category: reference_to_category,
  status: "published",
  publishedAt: "2025-01-27",
  readTime: 8
}
```

### å¸¸ç”¨å‘½ä»¤

```bash
# æ£€æŸ¥æ–‡ç« çŠ¶æ€
node scripts/fix-sanity-blog-posts.js

# åˆ é™¤é”™è¯¯çš„-zhåç¼€æ–‡ç« 
node scripts/fix-sanity-blog-posts.js --delete

# å¯åŠ¨Sanity Studio
cd sanity && npm run dev

# æœ¬åœ°æµ‹è¯•
npm run dev
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥æœ¬æ–‡æ¡£çš„"å¸¸è§é—®é¢˜"éƒ¨åˆ†
2. è¿è¡Œ `node scripts/fix-sanity-blog-posts.js` æ£€æŸ¥æ•°æ®
3. æŸ¥çœ‹Sanity Studioä¸­çš„æ–‡ç« å­—æ®µ
4. ç¡®è®¤ `language` å­—æ®µè®¾ç½®æ­£ç¡®

---

## âœ… æ£€æŸ¥æ¸…å•

æ¯æ¬¡åˆ›å»ºæˆ–ä¿®æ”¹æ–‡ç« æ—¶ï¼Œä½¿ç”¨æ­¤æ¸…å•ï¼š

- [ ] Slugä½¿ç”¨è‹±æ–‡ï¼Œä¸åŒ…å«è¯­è¨€åç¼€
- [ ] Languageå­—æ®µæ­£ç¡®è®¾ç½®ï¼ˆenæˆ–zhï¼‰
- [ ] Titleã€excerptã€contentå®Œæ•´
- [ ] SEOä¿¡æ¯å·²å¡«å†™
- [ ] ä½œè€…å’Œåˆ†ç±»å·²å…³è”
- [ ] Statusè®¾ç½®ä¸ºpublished
- [ ] PublishedAtæ—¥æœŸæ­£ç¡®
- [ ] ReadTimeå·²ä¼°ç®—
- [ ] Tagså·²æ·»åŠ ï¼ˆ3-5ä¸ªï¼‰
- [ ] å†…å®¹å·²æ ¡å¯¹
- [ ] åœ¨å¯¹åº”è¯­è¨€çš„åšå®¢åˆ—è¡¨é¡µå¯è§

---

**ğŸ‰ æ­å–œï¼ç°åœ¨æ‚¨å·²ç»æŒæ¡äº†HerbScienceåšå®¢ç®¡ç†ç³»ç»Ÿï¼**

ä¿æŒä¸­è‹±æ–‡å†…å®¹ç‹¬ç«‹ã€æ¸…æ™°ã€é«˜è´¨é‡ï¼Œæ‚¨çš„ç½‘ç«™å°†è·å¾—æ›´å¥½çš„ç”¨æˆ·ä½“éªŒå’ŒSEOæ•ˆæœã€‚

